<!DOCTYPE html>
<html>
    <head>
        <title>Sponsors List</title>

        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
        <link rel="stylesheet" href="./styles/index.css" />
        <link rel="stylesheet" href="./styles/index-dark.css" />
        <link rel="stylesheet" href="./styles/index-light.css" />

        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
        <script src="https://sdk.amazonaws.com/js/aws-sdk-2.1692.0.js"></script>
        <script src="./libs/oidc-client.js"></script>
        <script src="./scripts/awsapi.js"></script>
        <script src="./scripts/auth.js"></script>
        <script src="./scripts/index.js"></script>
        <script>
            $(window).on('load', function(){
                const btn = document.querySelector('.btn-toggle');

                btn.addEventListener('click', function() {
                // Then toggle (add/remove) the .dark-theme class to the body
                    document.body.classList.toggle('dark-theme');  
                });
            });

            // Add event listeners to header cells for sorting
            $(document).ready(function() {
                init();

                const table = document.getElementById("SponsorTable");
                const headers = table.querySelectorAll("thead td");
                headers.forEach((header, idx) => {
                    header.style.cursor = "pointer";
                    header.addEventListener("click", function() {
                    sortTable(idx);
                    });
                });

                const searchInput = document.getElementById("search");
                searchInput.addEventListener("input", function() {
                    filterTable(); 
                });
            });
        </script>
    </head>
    <body class="dark-theme || light-theme">
        <noscript>Please enable JS, I promise it's necessary for this page</noscript>
        <header>
            <h3>This Website is currently under construction, and may not function properly for the time being!</h3>
            <h5>If something is broken, please try refreshing the page</h5>
            <br />
            <div class="header-flex">
                <div class="auth"></div>
                <div class="header-center">
                    <h1>Sponsors List</h1>
                    <h3>A list of sponsors for people who forget</h3>
                </div>
            </div>
            <br/>
            <button class="btn-toggle">Toggle Theme</button>
            <br />
        </header>
        <div id="AddSponsorBox" disabled>             
        </div>
        <br />
        <br />
        <div id="SponsorTableDiv">
            <span id="searchDiv">
                <p>Search: <input id="search" name="search" type="search" class="search" placeholder="tabletoprug"/></p>
                <p>Exact <input id="exact" name="search" type="checkbox"/></p>
            </span>
            <table id="SponsorTable" class="centered">
                <thead>
                    <row>
                        <td>Personality</td>
                        <td>Sponsor Name</td>
                        <td>Debut'd Platform</td>
                        <td>Link</td>
                        <td>Code</td>
                        <td>Origional Post</td>
                        <td>Sponsor Date Start</td>
                        <td>Date Added</td>
                        <td>Last Checked</td>
                        <td>Valid?</td>
                        <td>Scam?</td>
                        <td>Last Verified</td>
                        <td>Source</td>
                    </row>
                </thead>
                <tbody id="tableBody">
                </tbody>
            </table>
        </div>
        <footer>

        </footer>
    </body>
</html>